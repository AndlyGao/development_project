package com.bibinet.biunion.project.ui.activity;import android.os.Bundle;import android.support.annotation.Nullable;import android.widget.Button;import android.widget.EditText;import com.bibinet.biunion.R;import com.bibinet.biunion.project.application.Constants;import com.bibinet.biunion.project.models.BaseModel;import com.bibinet.biunion.project.net.emit.PasswordForgetConfirmEmit;import com.bibinet.biunion.project.net.firing.PasswordFiring;import com.bibinet.biunion.project.ui.expand.TitleActivity;import com.bibinet.biunion.project.utils.PhoneNumberUtils;import com.bibinet.biunion.project.utils.ToastUtils;import com.bibinet.biunion.project.utils.ViewCheckUtils;import butterknife.BindView;import butterknife.OnClick;/** * Created by bibinet on 2017-6-5. */public class PasswordForgetConfirmActivity extends TitleActivity implements PasswordForgetConfirmEmit {    public static final int REQUEST_CODE = 4001;    public static final int RESULE_CODE = 4002;    @BindView(R.id.act_password_forget_confirm_new)    EditText newPasswordET;    @BindView(R.id.act_password_forget_confirm_btn)    Button confirmB;    private PasswordFiring passwordFiring;    private String phone;    @Override    protected void onTitleCreate(@Nullable Bundle savedInstanceState) {        initView();        ViewCheckUtils.inputConfirm(confirmB, newPasswordET);    }    @Override    protected int getTitleString() {        return R.string.str_password_new;    }    @Override    protected int getTitleLayoutId() {        return R.layout.activity_password_forget_confirm;    }    private boolean checkLogin() {        if (Constants.loginresultInfo != null && Constants.loginresultInfo.getUser() != null && Constants.loginresultInfo.getUser().getUserId() != null && !Constants.loginresultInfo.getUser().getUserId().equals("")) {            return true;        }        return false;    }    private void initView() {        phone = getIntent().getStringExtra("cellphone");        passwordFiring = new PasswordFiring(this);    }    @OnClick(R.id.act_password_forget_confirm_btn)    void confirm() {        String password = newPasswordET.getText().toString();        if (!PhoneNumberUtils.isPassword(password)) {            ToastUtils.showShort("密码格式不正确");        } else {            passwordFiring.setPasswordForget(phone, password);        }    }    @Override    public void onSetPasswordForgetSuccess(BaseModel resetInfo) {        if (resetInfo.getResCode().equals("0000")) {            ToastUtils.showShort("重置密码成功");            setResult(RESULE_CODE);            finish();        } else {            ToastUtils.showShort(resetInfo.getResMessage());        }    }    @Override    public void onSetPasswordForgetFail(String msg) {        ToastUtils.showShort(msg);    }}